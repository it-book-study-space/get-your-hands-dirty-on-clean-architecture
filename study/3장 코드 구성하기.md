# 목차
- [3장 코드 구성하기](#3장-코드-구성하기)
  - [계층으로 구성하기]
  - [기능으로 구성하기]

# 3장 코드 구성하기
## 계층으로 구성하기
```
buckapl
├── domain
│   ├── Account
│   ├── Activity
│   ├── AccountRepository
│   └── AccountService
├── persistence
│   └── AccountRepositoryImpl
├── web
│   └── AccountController
```

## 문제점 (최적의 구조 X)
- 애플리케이션의 기능 조각(functional slice)이나 특성(feature)을 구분 짓는 패키지 경계가 없다
  - 현 구조에서 사용자를 관리하는 기능을 추가해야 한다면, `web` 패키지에 `UserController`를 추가하고 `domain` 패키지에 `User`, `UserService` 등을 추가하게 됨
  - 즉, 서로 연관되지 않은 기능들끼리 예상치 못한 부수효과를 일으킬 수 있는 클래스 묶음으로 변모할 수 있음
- 애플리케이션이 어떤 유스케이스들을 제공하는지 파악할 수 없다
  - 특정 기능을 찾기 위해서는 어떤 서비스가 이를 구현했는지 추측해야 하고, 해당 서비스 내의 어떤 메서드가 그에 대한 책임을 수행하는지 찾아야 함
- 패키지 구조를 통해서는 우리가 목표로 하는 아키텍처를 파악할 수 없다
  - 어떤 기능이 웹 어댑터에서 호출되는지, 영속성 어댑터가 도메인 계층에 어떤 기능을 제공하는지 한눈에 알아볼 수 없음
  - `incoming port`와 `outgoing port`가 코드 속에 숨겨져 있음

## 기능으로 구성하기


## 아키텍처적으로 표현력 있는 프로젝트 구조